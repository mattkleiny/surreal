<Project>
  <PropertyGroup Condition="'$(TargetPlatform)' == ''">
    <!-- auto-detect the target platform from the desired target platform -->
    <SurrealPlatform Condition="$(SurrealPlatform) == '' and $(TargetPlatformIdentifier.StartsWith('browser'))">web</SurrealPlatform>
    <SurrealPlatform Condition="$(SurrealPlatform) == '' and $(TargetPlatformIdentifier.StartsWith('android'))">mobile</SurrealPlatform>
    <SurrealPlatform Condition="$(SurrealPlatform) == '' and $(TargetPlatformIdentifier.StartsWith('ios'))">mobile</SurrealPlatform>
    <SurrealPlatform Condition="$(SurrealPlatform) == '' and $(TargetPlatformIdentifier.StartsWith('linux'))">desktop</SurrealPlatform>
    <SurrealPlatform Condition="$(SurrealPlatform) == '' and $(TargetPlatformIdentifier.StartsWith('freebsd'))">desktop</SurrealPlatform>
    <SurrealPlatform Condition="$(SurrealPlatform) == '' and $(TargetPlatformIdentifier.StartsWith('osx'))">desktop</SurrealPlatform>
    <SurrealPlatform Condition="$(SurrealPlatform) == '' and $(TargetPlatformIdentifier.StartsWith('win'))">desktop</SurrealPlatform>
  </PropertyGroup>

  <PropertyGroup Condition="'$(TargetPlatform)' == ''">
    <!-- auto-detect the target platform if it was not specified -->
    <SurrealPlatform Condition="'$([MSBuild]::IsOsPlatform(Linux))'">desktop</SurrealPlatform>
    <SurrealPlatform Condition="'$([MSBuild]::IsOsPlatform(FreeBSD))'">desktop</SurrealPlatform>
    <SurrealPlatform Condition="'$([MSBuild]::IsOsPlatform(OSX))'">desktop</SurrealPlatform>
    <SurrealPlatform Condition="'$([MSBuild]::IsOsPlatform(Windows))'">desktop</SurrealPlatform>
  </PropertyGroup>

  <PropertyGroup Condition="$(TargetPlatformIdentifier) == ''">
    <!-- set an implicit target platform if none was specified -->
    <TargetPlatformIdentifier Condition="'$([MSBuild]::IsOsPlatform(Linux))'">linux</TargetPlatformIdentifier>
    <TargetPlatformIdentifier Condition="'$([MSBuild]::IsOsPlatform(FreeBSD))'">linux</TargetPlatformIdentifier>
    <TargetPlatformIdentifier Condition="'$([MSBuild]::IsOsPlatform(OSX))'">macos</TargetPlatformIdentifier>
    <TargetPlatformIdentifier Condition="'$([MSBuild]::IsOsPlatform(Windows))'">windows</TargetPlatformIdentifier>
  </PropertyGroup>

  <ItemGroup>
    <!-- implicit usings for the codebase -->
    <Using Include="Surreal" />
    <Using Include="Surreal.Audio" />
    <Using Include="Surreal.Audio.Clips" />
    <Using Include="Surreal.Collections" />
    <Using Include="Surreal.Colors" />
    <Using Include="Surreal.Diagnostics" />
    <Using Include="Surreal.Diagnostics.Debugging" />
    <Using Include="Surreal.Diagnostics.Gizmos" />
    <Using Include="Surreal.Diagnostics.Logging" />
    <Using Include="Surreal.Diagnostics.Profiling" />
    <Using Include="Surreal.Graphics" />
    <Using Include="Surreal.Graphics.Images" />
    <Using Include="Surreal.Graphics.Materials" />
    <Using Include="Surreal.Graphics.Meshes" />
    <Using Include="Surreal.Graphics.Rendering" />
    <Using Include="Surreal.Graphics.Textures" />
    <Using Include="Surreal.Input" />
    <Using Include="Surreal.Input.Keyboard" />
    <Using Include="Surreal.Input.Mouse" />
    <Using Include="Surreal.Maths" />
    <Using Include="Surreal.Memory" />
    <Using Include="Surreal.Scenes" />
    <Using Include="Surreal.Scenes.Audio" />
    <Using Include="Surreal.Scenes.Physics" />
    <Using Include="Surreal.Scripting" />
    <Using Include="Surreal.Timing" />
    <Using Include="Surreal.Utilities" />

    <!-- automatically copy external and embedded assets -->
    <Content Include="$(ProjectDir)\Assets\External\**" CopyToOutputDirectory="PreserveNewest" />
    <EmbeddedResource Include="$(ProjectDir)\Assets\Embedded\**" />

    <!-- include relevant core dependencies -->
    <PackageReference Include="Surreal.Analyzers" Version="$(SurrealVersion)" />
    <PackageReference Include="Surreal.MSBuild" Version="$(SurrealVersion)" />
    <PackageReference Include="Surreal.Framework" Version="$(SurrealVersion)" />
    <PackageReference Include="Surreal.Platform.Desktop" Version="$(SurrealVersion)" Condition="$(SurrealPlatform) == 'desktop'" />
  </ItemGroup>

  <Import Sdk="Microsoft.NET.Sdk" Project="Sdk.targets" Condition="$(ShouldImportBaseSdk) == 'true'" />
</Project>
